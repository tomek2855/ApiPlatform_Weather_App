(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{144:function(e,t,c){"use strict";c.r(t);var r=c(0),n=c(26),a=c.n(n),s=(c(61),function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,147)).then((function(t){var c=t.getCLS,r=t.getFID,n=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),r(e),n(e),a(e),s(e)}))}),i=c(29),d=c(20),j=c(52),h=c(146),l=c(4),b=c(7),o=c(41),u=c(51),O=(c(65),c(66),c(14)),x=c(1);var m=function(e){var t=e.children;return Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(x.jsx)("div",{className:"container",children:Object(x.jsx)(O.a,{to:"/",className:"navbar-brand",children:"Weather"})})}),Object(x.jsx)("div",{className:"Layout-children",children:Object(x.jsx)("div",{className:"container",children:t})})]})},f=(c(69),c(12)),p={baseUrl:"http://weather.toadres.pl/api/"};var v=function(){var e=Object(r.useState)([]),t=Object(f.a)(e,2),c=t[0],n=t[1];return Object(r.useEffect)((function(){fetch(p.baseUrl+"cities").then((function(e){return e.json()})).then((function(e){return e["hydra:member"]})).then((function(e){return n(e)}))}),[]),Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("ul",{className:"list-group list-group-flush",children:c&&c.map((function(e,t){var c="/weather/"+e.id;return Object(x.jsx)("li",{className:"list-group-item",children:Object(x.jsx)(O.a,{to:c,className:"Weather-sidebar-Link",children:e.name})},t)}))})})};var y=c(39);var g=function(e){var t=Object(r.useState)({}),c=Object(f.a)(t,2),n=c[0],a=c[1],s=Object(r.useState)([]),i=Object(f.a)(s,2),d=i[0],j=i[1],h=Object(r.useState)(null),l=Object(f.a)(h,2),b=l[0],o=l[1],u=Object(r.useState)([[{type:"datetime",label:"Day"},"Temperature","Humidity"]]),O=Object(f.a)(u,2),m=O[0],v=O[1],g=Object(r.useState)([[{type:"datetime",label:"Day"},"Pressure"]]),w=Object(f.a)(g,2),N=w[0],T=w[1];return Object(r.useEffect)((function(){var t;e&&((t=e,fetch(p.baseUrl+"cities/"+t).then((function(e){return e.json()}))).then((function(e){return a(e)})),function(e){return fetch(p.baseUrl+"cities/"+e+"/weather_records").then((function(e){return e.json()}))}(e).then((function(e){return j(e)})))}),[e]),Object(r.useEffect)((function(){o(d.length>0&&d[d.length-1]),v([[{type:"datetime",label:"Day"},"Temperature","Humidity"]].concat(d.slice(-24).map((function(e){return[new Date(e.createdAt),parseInt(e.temp-273.15),e.humidity]})))),T([[{type:"datetime",label:"Day"},"Pressure"]].concat(d.slice(-24).map((function(e){return[new Date(e.createdAt),e.preesure]}))))}),[d]),e&&Object(x.jsxs)("div",{children:[Object(x.jsxs)("h5",{children:[n.name," weather details"]}),Object(x.jsx)("hr",{}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h6",{children:"Latest weather data"}),b&&Object(x.jsx)("div",{className:"table-responsive",children:Object(x.jsxs)("table",{className:"table table-bordered table-sm",children:[Object(x.jsx)("thead",{className:"thead-dark",children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Timestamp"}),Object(x.jsx)("th",{children:"Temperature"}),Object(x.jsx)("th",{children:"Temperature feels like"}),Object(x.jsx)("th",{children:"Pressure"}),Object(x.jsx)("th",{children:"Humidity"}),Object(x.jsx)("th",{children:"Wind direction"}),Object(x.jsx)("th",{children:"Wind speed"}),Object(x.jsx)("th",{children:"Visibility"})]})}),Object(x.jsx)("tbody",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:new Date(b.createdAt).toString()}),Object(x.jsxs)("td",{children:[parseInt(b.temp-273.15),"\xb0C"]}),Object(x.jsxs)("td",{children:[parseInt(b.tempFeelsLike-273.15),"\xb0C"]}),Object(x.jsxs)("td",{children:[b.preesure,"hPa"]}),Object(x.jsxs)("td",{children:[b.humidity,"%"]}),Object(x.jsxs)("td",{children:[b.windDeg,"\xb0"]}),Object(x.jsxs)("td",{children:[b.windSpeed,"m/s"]}),Object(x.jsxs)("td",{children:[b.visibility,"m"]})]})})]})})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h6",{children:"Latest weather reads"}),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{style:{display:"flex",maxWidth:900,overflowX:"auto",overflowY:"hidden"},children:Object(x.jsx)(y.a,{width:600,height:300,chartType:"LineChart",loader:Object(x.jsx)("div",{children:"Loading Chart"}),data:m,legendToggle:!0})}),Object(x.jsx)("div",{style:{display:"flex",maxWidth:900,overflowX:"auto",overflowY:"hidden"},children:Object(x.jsx)(y.a,{width:600,height:300,chartType:"LineChart",loader:Object(x.jsx)("div",{children:"Loading Chart"}),data:N,legendToggle:!0,series:{1:{curveType:"function"}}})})]})]})]})};var w=function(){var e=Object(l.f)().cityId;return Object(x.jsxs)("div",{className:"Weather",children:[Object(x.jsxs)("div",{className:"Weather-sidebar",children:[Object(x.jsx)("h5",{children:"Choose your city"}),v()]}),Object(x.jsx)("div",{className:"Weather-content",children:g(e)})]})},N=Object(b.a)(),T=Object(i.c)(Object(i.b)({router:Object(o.b)(N),form:h.a}),Object(i.a)(Object(u.a)(N),j.a));a.a.render(Object(x.jsx)(d.a,{store:T,children:Object(x.jsx)(o.a,{history:N,children:Object(x.jsx)(m,{children:Object(x.jsxs)(l.c,{children:[Object(x.jsx)(l.a,{path:"/",component:w,strict:!0,exact:!0}),Object(x.jsx)(l.a,{path:"/weather/:cityId",component:w,exact:!0}),Object(x.jsx)(l.a,{render:function(){return Object(x.jsx)("h1",{children:"Not Found"})}})]})})})}),document.getElementById("root")),s()},61:function(e,t,c){},66:function(e,t,c){},69:function(e,t,c){}},[[144,1,2]]]);
//# sourceMappingURL=main.c2f853ea.chunk.js.map